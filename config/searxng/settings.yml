# SearXNG Configuration for TheAppApp AI Agents
# Privacy-respecting metasearch engine

general:
  debug: false
  instance_name: "TheAppApp Search"
  privacypolicy_url: false
  donation_url: false
  contact_url: false
  enable_metrics: false

search:
  safe_search: 0  # 0=off, 1=moderate, 2=strict
  autocomplete: ""
  default_lang: "en"
  formats:
    - html
    - json

server:
  port: 8080
  bind_address: "0.0.0.0"
  secret_key: "${SEARXNG_SECRET}"  # Set via environment variable
  limiter: false  # Disable rate limiting for backend API access
  image_proxy: true

ui:
  static_use_hash: true
  default_theme: simple
  default_locale: ""
  query_in_title: false
  infinite_scroll: false
  center_alignment: false

# Enabled search engines
# Focus on technical/programming resources for AI agent use
engines:
  - name: google
    engine: google
    shortcut: go
    disabled: false
    
  - name: duckduckgo
    engine: duckduckgo
    shortcut: ddg
    disabled: false
    
  - name: bing
    engine: bing
    shortcut: bi
    disabled: false
    
  - name: stackoverflow
    engine: stackoverflow
    shortcut: so
    disabled: false
    
  - name: github
    engine: github
    shortcut: gh
    disabled: false
    
  - name: pypi
    engine: xpath
    shortcut: pypi
    disabled: false
    search_url: https://pypi.org/search/?q={query}
    url_xpath: //h3[@class="package-snippet__title"]/a/@href
    title_xpath: //h3[@class="package-snippet__title"]/a/span[@class="package-snippet__name"]
    content_xpath: //p[@class="package-snippet__description"]
    
  - name: npm
    engine: json_engine
    shortcut: npm
    disabled: false
    search_url: https://registry.npmjs.org/-/v1/search?text={query}&size=20
    url_query: objects/package/links/npm
    title_query: objects/package/name
    content_query: objects/package/description
    
  - name: wikipedia
    engine: wikipedia
    shortcut: wp
    disabled: false
    
  - name: mdn
    engine: xpath
    shortcut: mdn
    disabled: false
    search_url: https://developer.mozilla.org/en-US/search?q={query}
    url_xpath: //div[@class="result-item"]//a/@href
    title_xpath: //div[@class="result-item"]//h4/a
    content_xpath: //div[@class="result-item"]//p
    
  - name: reddit
    engine: reddit
    shortcut: re
    disabled: false

# Disabled engines (not useful for AI agents)
disabled_engines:
  - twitter
  - youtube  # Video not useful for text-based agents
  - amazon
  - ebay
  - instagram
  - facebook

outgoing:
  request_timeout: 10.0  # seconds
  max_request_timeout: 15.0
  useragent_suffix: ""
  pool_connections: 100
  pool_maxsize: 10
  enable_http2: true
  
# Disable features not needed for API use
enabled_plugins:
  # Minimal plugins for API use
  - 'Basic Calculator'
  - 'Unit converter'

disabled_plugins:
  - 'Tracker URL remover'
  - 'Hostname replace'
  - 'Open Access DOI rewrite'
  - 'Self Information'
  - 'Search on category select'
